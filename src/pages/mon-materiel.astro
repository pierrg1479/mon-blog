---
export const prerender = true;

import BaseHead from '../components/BaseHead.astro';
import EquipmentTable from '../components/EquipmentTable.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';

type Equipment = {
	name: string;
	image: string;
	protocol: string;
	integration: string;
	price: string;
	rating: number;
	comment: string;
	affiliateLink: string | null;
	articleUrl: string | null;
};

const lastUpdated = '1 janvier 2025';

const siteUrl = 'https://www.the-optimization-guy.com';

const structuredProducts = [
	{
		name: 'Sonoff SNZB-04 Contact',
		image: '/images/equipment/sonoff-snzb-04-contact.jpg',
		description: 'Parfait pour portes et fenêtres.',
		url: 'https://domadoo.fr/sonoff-snzb-04?ref=the-optimization-guy',
		brand: 'Sonoff',
		price: '11.00',
	},
	{
		name: 'Tado V3+ Thermostat',
		image: '/images/equipment/Thermostat-Intelligent-Tado-v3+.jpg',
		description: 'Le meilleur thermostat connecté, ROI rapide.',
		url: 'https://domadoo.fr/tado-v3?ref=the-optimization-guy',
		brand: 'tado°',
		price: '129.00',
	},
	{
		name: 'Têtes thermostatiques Tado',
		image: '/images/equipment/tete-thermostatique-tado-v3+.avif',
		description: 'Granularité pièce par pièce, top en hiver.',
		url: 'https://domadoo.fr/tete-tado?ref=the-optimization-guy',
		brand: 'tado°',
		price: '79.00',
	},
	{
		name: 'Switchbot Bot',
		image: '/images/equipment/switchbot-bot.jpg',
		description: 'Pratique pour automatiser un bouton existant.',
		url: 'https://domadoo.fr/switchbot-bot?ref=the-optimization-guy',
		brand: 'SwitchBot',
		price: '29.00',
	},

];

const structuredData = {
	'@context': 'https://schema.org',
	'@type': 'CollectionPage',
	name: 'Mon matériel – The Optimization Guy',
	url: `${siteUrl}/mon-materiel/`,
	description:
		'Découvrez tout le matériel recommandé par The Optimization Guy : équipements, outils et accessoires utilisés au quotidien.',
	mainEntity: structuredProducts.map((product) => ({
		'@type': 'Product',
		name: product.name,
		image: product.image.startsWith('http') ? product.image : `${siteUrl}${product.image}`,
		description: product.description,
		url: product.url,
		brand: {
			'@type': 'Brand',
			name: product.brand,
		},
		offers: {
			'@type': 'Offer',
			url: product.url,
			priceCurrency: 'EUR',
			price: product.price,
			availability: 'https://schema.org/InStock',
			itemCondition: 'https://schema.org/NewCondition',
		},
	})),
};

const security: Equipment[] = [
	{
		name: 'Reolink Argus 4 Pro',
		image: '/images/equipment/reolink-argus-4.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '204€',
		rating: 4,
		comment: 'Caméra de sécurité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Tapo C225',
		image: '/images/equipment/tapo-c225.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '40€',
		rating: 4,
		comment: 'Caméra de sécurité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Reolink Lumus Pro',
		image: '/images/equipment/reolink-lumus-pro.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '63€',
		rating: 4,
		comment: 'Caméra de sécurité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Tapo C510W',
		image: '/images/equipment/tapo-c510w.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '34€',
		rating: 4,
		comment: 'Caméra de sécurité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Reolink Argus 3 Ultra',
		image: '/images/equipment/reolink-argus-3-ultra.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '110€',
		rating: 4,
		comment: 'Caméra de sécurité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Tapo C425',
		image: '/images/equipment/tapo-c425.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '83€',
		rating: 4,
		comment: 'Caméra de sécurité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Serrure SwitchBot Smart Lock Ultra',
		image: '/images/equipment/switchbot-lock-ultra.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '250€',
		rating: 4,
		comment: 'Serrure connectée.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'SwitchBot Keypad Vision',
		image: '/images/equipment/switchbot-keypad-vision.jpg',
		protocol: 'Bluetooth',
		integration: 'Oui',
		price: '150€',
		rating: 4,
		comment: 'Clavier de serrure.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'SwitchBot Keypad Touch',
		image: '/images/equipment/switchbot - keypad-touch.jpg',
		protocol: 'Bluetooth',
		integration: 'Oui',
		price: '67€',
		rating: 4,
		comment: 'Clavier tactile.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const sensors: Equipment[] = [
	{
		name: "Capteur d'ouverture Sonoff SNZB-04P",
		image: '/images/equipment/sonoff-zigbee-30-snzb-04p.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '12€',
		rating: 4,
		comment: "Capteur d'ouverture.",
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: "Capteur d'ouverture Tapo T110",
		image: '/images/equipment/tapo-t110.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '13€',
		rating: 4,
		comment: "Capteur d'ouverture.",
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Détecteur de mouvement Sonoff SNZB-03P',
		image: '/images/equipment/sonoff-snzb-03p.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '15€',
		rating: 4,
		comment: 'Détecteur de mouvement.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Détecteur de présence Sonoff SNZB-06P',
		image: '/images/equipment/sonoff-snzb-06p.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '16€',
		rating: 4,
		comment: 'Détecteur de présence.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Capteur de luminosité extérieur Mumubiz',
		image: '/images/equipment/mumubiz-capteur-de-luminosite.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '30€',
		rating: 4,
		comment: 'Capteur de luminosité extérieur avec panneau solaire.',
		affiliateLink: 'https://www.domadoo.fr/fr/produits-de-domotique/8025-mumubiz-capteur-de-luminosite-exterieur-zigbee-avec-panneau-solaire-tuya-smart-life.html?srsltid=AfmBOooDGCR40IwrxCXETHVLmTyiAYJ0U6c5tGhDq-LeP8grSSDDCLYa',
		articleUrl: null,
	},
	{
		name: 'Capteur de pluie Mumubiz',
		image: '/images/equipment/mumubiz-capteur-de-pluie.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '35€',
		rating: 4,
		comment: 'Capteur de pluie Zigbee.',
		affiliateLink: 'https://www.domadoo.fr/fr/produits-zigbee/7815-mumubiz-capteur-de-pluie-zigbee-ewelink-jeedom-home-assistant-zigbee2mqtt.html?srsltid=AfmBOorZCErwH60Wg6KBz-UUJgOF7UEN2yeD9d0ohUOhIujOWkqcUHvC',
		articleUrl: null,
	},
	{
		name: 'Capteur de fuite Sonoff SNZB-05P',
		image: '/images/equipment/sonoff-snzb-05p.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '22€',
		rating: 4,
		comment: 'Capteur de fuite.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Capteur de vibration Third Reality 3RVS01031Z',
		image: '/images/equipment/third-reality-3rvs01031z.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '20€',
		rating: 4,
		comment: 'Capteur de vibration.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Capteur de température Sonoff SNZB-02LD',
		image: '/images/equipment/sonoff-snzb02ld.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '20€',
		rating: 4,
		comment: 'Capteur de température.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Capteur de fuite Tapo T300',
		image: '/images/equipment/tapo-t300.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '22€',
		rating: 4,
		comment: 'Capteur de fuite.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Capteur de température et humidité Tapo T310',
		image: '/images/equipment/tapo-t310.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '20€',
		rating: 4,
		comment: 'Capteur de température et humidité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Capteur de température et humidité Tapo T315',
		image: '/images/equipment/tapo-t315.jpeg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '28€',
		rating: 4,
		comment: 'Capteur de température et humidité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Capteur de luminosité TS0222',
		image: '/images/equipment/capteur-luminosite.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '15€',
		rating: 4,
		comment: 'Capteur de luminosité.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Détecteur de fumée Heiman',
		image: '/images/equipment/heiman-HS1SA.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '28€',
		rating: 4,
		comment: 'Détecteur de fumée.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const heating: Equipment[] = [
	{
		name: 'Tado V3+ Thermostat',
		image: '/images/equipment/Thermostat-Intelligent-Tado-v3+.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '129€',
		rating: 5,
		comment: 'Le meilleur thermostat connecté, ROI rapide.',
		affiliateLink: 'https://domadoo.fr/tado-v3?ref=the-optimization-guy',
		articleUrl: '/blog/test-tado-v3',
	},
	{
		name: 'Têtes thermostatiques Tado',
		image: '/images/equipment/tete-thermostatique-tado-v3+.avif',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '79€/pièce',
		rating: 5,
		comment: 'Granularité pièce par pièce, top en hiver.',
		affiliateLink: 'https://domadoo.fr/tete-tado?ref=the-optimization-guy',
		articleUrl: '/blog/tetes-thermostatiques-tado',
	},
	{
		name: 'Module fil pilote Nodon SIN-4-FP-21',
		image: '/images/equipment/nodon-module-chauffage-fil-pilote-zigbee.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '40€',
		rating: 4,
		comment: 'Module fil pilote.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const cleaning: Equipment[] = [
	{
		name: 'Robot Tondeuse Dream A1',
		image: '/images/equipment/dreame_a1.jpg',
		protocol: 'WiFi',
		integration: 'Moyenne',
		price: '1055€',
		rating: 4,
		comment: 'Robot tondeuse.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Robot aspirateur Dream X50 Master',
		image: '/images/equipment/dream-x50-master.jpg',
		protocol: 'WiFi',
		integration: 'Moyenne',
		price: '1074€',
		rating: 4,
		comment: 'Robot aspirateur.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const multimedia: Equipment[] = [
	{
		name: 'Ampli Nad C700',
		image: '/images/equipment/nad-c700.jpg',
		protocol: 'WiFi',
		integration: 'Moyenne',
		price: '1599€',
		rating: 4,
		comment: 'Ampli connecté.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Xiaomi TV Box S 3ème Génération',
		image: '/images/equipment/xiaomi-tv-box-3.jpg',
		protocol: 'WiFi',
		integration: 'Moyenne',
		price: '52€',
		rating: 4,
		comment: 'Box multimédia.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const switchesAndLights: Equipment[] = [
	{
		name: 'Prise Tapo P110',
		image: '/images/equipment/tapo-p110.jpg',
		protocol: 'WiFi',
		integration: 'Oui',
		price: '13€',
		rating: 4,
		comment: 'Prise connectée.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Prise Tapo P110M',
		image: '/images/equipment/tapo-p110m.jpeg',
		protocol: 'WiFi + Matter',
		integration: 'Oui',
		price: '20€',
		rating: 4,
		comment: 'Prise connectée.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Prise Sonoff S60ZBTPF',
		image: '/images/equipment/SONOFF-S60ZBTPF.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '16€',
		rating: 4,
		comment: 'Prise connectée.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Interrupteur Tapo S210',
		image: '/images/equipment/tapo-s210.png',
		protocol: 'SubGHz',
		integration: 'Oui',
		price: '22€',
		rating: 4,
		comment: 'Interrupteur connecté.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Interrupteur Tapo S220',
		image: '/images/equipment/tapo-s220.jpg',
		protocol: 'SubGHz',
		integration: 'Oui',
		price: '24€',
		rating: 4,
		comment: 'Interrupteur connecté.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Interrupteur Sonoff ZBM5-1C-80/86',
		image: '/images/equipment/SONOFF-Zigbee-ZBM5-1C-86W.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '22€',
		rating: 4,
		comment: 'Interrupteur connecté.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const buttons: Equipment[] = [
	{
		name: 'Bot Switchbot',
		image: '/images/equipment/switchbot-bot.jpg',
		protocol: 'Bluetooth',
		integration: 'Oui',
		price: '25€',
		rating: 4,
		comment: 'Bot connecté.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Fingerbot TS0001',
		image: '/images/equipment/Fingerbot-TS0001.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '20€',
		rating: 4,
		comment: 'Fingerbot.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Bouton Tapo S200D',
		image: '/images/equipment/tapo-s200b.jpg',
		protocol: 'SubGHz',
		integration: 'Oui',
		price: '17€',
		rating: 4,
		comment: 'Bouton connecté.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Bouton Sonoff SNZB-01P',
		image: '/images/equipment/SONOFF SNZB-01P.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '11€',
		rating: 4,
		comment: 'Bouton connecté.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const infrastructure: Equipment[] = [
	{
		name: 'Répéteur Zigbee Aeotec',
		image: '/images/equipment/aotec-zigbee-repetiteur.jpg',
		protocol: 'Zigbee',
		integration: 'Oui',
		price: '30€',
		rating: 4,
		comment: 'Répéteur Zigbee.',
		affiliateLink: null,
		articleUrl: null,
	},
	{
		name: 'Home Assistant Green',
		image: '/images/equipment/home-assistant-green.jpg',
		protocol: '-',
		integration: 'Oui',
		price: '109€',
		rating: 4,
		comment: 'Box Home Assistant.',
		affiliateLink: null,
		articleUrl: null,
	},
];

const sections = [
	{ title: 'Sécurité', items: security },
	{ title: 'Capteurs', items: sensors },
	{ title: 'Chauffage', items: heating },
	{ title: 'Ménage et entretien', items: cleaning },
	{ title: 'Multimédia', items: multimedia },
	{ title: 'Prise et interrupteur', items: switchesAndLights },
	{ title: 'Boutons et Fingerbot', items: buttons },
	{ title: 'Infrastructure', items: infrastructure },
];
---

<!doctype html>
<html lang="fr">
	<head>
		<!-- Google Tag Manager -->
		<script is:inline>
			(function (w, d, s, l, i) {
				w[l] = w[l] || [];
				w[l].push({
					'gtm.start': new Date().getTime(),
					event: 'gtm.js',
				});
				const f = d.getElementsByTagName(s)[0];
				const j = d.createElement(s);
				const dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore(j, f);
			})(window, document, 'script', 'dataLayer', 'GTM-PTBBTWQV');
		</script>
		<!-- End Google Tag Manager -->
		<BaseHead
			title="Mon matériel domotique Home Assistant - The Optimization Guy"
			description="Liste complète du matériel domotique que j'utilise au quotidien : caméras, capteurs, chauffage connecté, et mes recommandations."
		/>
		<script type="application/ld+json" set:html={JSON.stringify(structuredData)}></script>
	</head>
	<body>
		<!-- Google Tag Manager (noscript) -->
		<noscript
			><iframe
				src="https://www.googletagmanager.com/ns.html?id=GTM-PTBBTWQV"
				height="0"
				width="0"
				style="display:none;visibility:hidden"></iframe
		></noscript>
		<!-- End Google Tag Manager (noscript) -->
		<Header />
		<main class="equipment-main">
			<article class="equipment-page">
				<header class="page-header">
					<h1>Mon matériel</h1>
					<p class="last-updated">Dernière mise à jour : {lastUpdated}</p>
					<p class="intro">
						Voici la liste complète du matériel domotique que j'utilise chez moi avec Home Assistant.
						Tout ce qui est listé ici est réellement installé et testé, avec mes retours courts et directs.
					</p>
				</header>

				{sections.map((section) => (
					<section class="equipment-section">
						<h2>{section.title}</h2>
						<p class="section-intro">
							Une sélection de produits testés au quotidien pour cette catégorie.
						</p>
						<EquipmentTable equipment={section.items} />
					</section>
				))}
			</article>
		</main>
		<Footer />
	</body>
</html>

<style>
	.equipment-main {
		width: calc(100% - 2em);
		max-width: 1200px;
		margin: 0 auto;
		padding: 3em 1em 4em;
	}

	.equipment-page {
		display: flex;
		flex-direction: column;
		gap: 3rem;
	}

	.page-header {
		text-align: left;
		max-width: 820px;
	}

	.page-header h1 {
		font-size: 2.5rem;
		margin-bottom: 0.5rem;
	}

	.last-updated {
		font-size: 0.95rem;
		color: #6b7280;
	}

	:global(.dark) .last-updated {
		color: #9ca3af;
	}

	.intro {
		margin-top: 1rem;
		color: #374151;
		font-size: 1.05rem;
	}

	:global(.dark) .intro {
		color: #d1d5db;
	}

	.equipment-section {
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}

	.section-intro {
		margin: 0;
		color: rgb(var(--gray));
		font-size: 1rem;
	}

	:global(.dark) .section-intro {
		color: rgb(var(--gray));
	}

	.equipment-section h2 {
		font-size: 1.8rem;
		margin-bottom: 0.25rem;
	}

	@media (max-width: 768px) {
		.page-header h1 {
			font-size: 2rem;
		}
		.equipment-section h2 {
			font-size: 1.5rem;
		}
	}
</style>
